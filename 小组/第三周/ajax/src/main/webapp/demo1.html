<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>验证系统</title>
</head>
<body>

<form action="" method="get">
    <label for="username"> username(only “long” can be adimitted):</label>
    <input type="text" name="username" id="username">
    <br>
    <span id="username_error" style="display: none">此用户名不正确</span>
    <br>
</form>



<script>
    document.getElementById("username").onblur=function ()
    {
        var username = this.value;

        var xhttp;
        if(window.XMLHttpRequest)
        {
            xhttp=new XMLHttpRequest();
        }
        else
        {
            xhttp=new ActiveXObject("Microsoft.XMLHTTP");
        }

        xhttp.open("GET","http://localhost/ajax_war_exploded/ajax?username="+username);
        xhttp.send();

        xhttp.onreadystatechange = function()
        {
            if (this.readyState == 4 && this.status == 200)
            {
                if(this.responseText=="true")
                {
                    document.getElementById("username_error").style.display="";
                }
                else if(this.responseText=="false")
                {
                    document.getElementById("username_error").style.display="none";
                }
            }
        }

    }

</script>

</body>
</html>